{
    "collab_server" : "",
    "contents" : "#' ---\n#' title: \"Package rwos: Analysis of Web of Science (WoS) Data with R\"\n#' author: UDC Ranking's Group\n#' date: '`r paste(\"rwos\", packageVersion(\"rwos\"),\":\", Sys.Date())`'\n#'\n#' output:\n#'   html_document:\n#'      toc: true\n#'      toc_float: true\n#' ---\n#' Este es un informe creado con R-Markdown (ver p.e. <http://rmarkdown.rstudio.com>)\n#' y el paquete *rwos*.\n\n#+ spin, include=FALSE, eval= FALSE\n# Una forma rápida de crear este tipo de informes es emplear la funcion *spin*\n# del paquete *knitr* (ver p.e. <http://yihui.name/knitr/demo/stitch>).\n# Este informe fue creado con el siguiente comando:\n# library(rmarkdown)\n# browseURL(url = render(knitr::spin('rwos_package.R', knit = FALSE)))\n\n#+ setup, include=FALSE\nknitr::opts_chunk$set(comment=NA, prompt=TRUE, cache = FALSE)\n# , out.width=800, dev='svg', fig.height=4, fig.width=6, warning = FALSE)\n\n#'\n#' Instalación\n#' -----------\n#' Para instalar el paquete sería recomendable en primer lugar instalar las dependencias:\n#+ dependencies, eval=FALSE\ninstall.packages(c('dplyr', 'lazyeval', 'stringr', 'ggplot2', 'openxlsx', 'tidyr'))\n\n#' En windows bastaría con instalar la última versión del paquete en forma binaria *rwos_0.1.X.zip*.\n\nlibrary(rwos)\n\n#'\n#' ## Cargar datos\n#'\n#' ### Datos de ejemplo\n#' En el paquete se incluye un conjunto de datos de ejemplo correspondiente a la búsqueda\n#' por el campo Organización-Nombre preferido de la UDC (Organization-Enhaced: OG = Universidade da Coruna)\n#' correspondientes al año 2015.\n#'\n#' Variables WoS:\nas.data.frame(attr(wosdf, \"variable.labels\"))\n\n#' Se podría crear la base de datos con los siguientes comandos\n#+ wosdf, eval=FALSE\ndb <- wos_CreateDB(wosdf)\n# summary(db)\n\n#' ### Cargar datos de directorio\n#' Se pueden cargar automáticamente los archivos wos\n#' (tienen una limitación de 500 registros) de un subdirectorio:\ndir('./txt', pattern='*.txt')\n#' Se combinan los ficheros y se crea la base de datos con los siguientes comandos:\n#+ wostxt, cache=TRUE\nwos.txt <- wos_ImportSources('txt', other = FALSE)\ndb <- wos_CreateDB(wos.txt)\n# save(db, file = \"txt.RData\")\n# load(\"txt.RData\")\n\n#' ## Sumarios\n\n#' ### Sumario \"wos.db\"\n#+ summary, cache=TRUE\nres1 <- summary(db)\nres1\n\n\n#' ### Sumario por años\n#' Obtener sumario por años:\nres2 <- summary_year(db)\nres2\n\n#' ## Gráficos\n#' Emplea la librería *ggplot2*.\n#'\n#' ### \"wos.db\"\n#+ plotdb, warning=FALSE, message=FALSE\n\nplot(db)\n\n#' ### Sumario \"wos.db\"\n\nplot(res1)\n\nplot(res1, pie = TRUE)\n\n\n#' ### Sumario por años\n\nplot(res2)\n\nplot(res2, boxplot = TRUE)\n\n\n\n#' ## Filtrado\n\n#' ### Funciones get\n\n#' Buscar una persona concreta\n\nidAuthors <- get.idAuthors(db,AF == \"Angel Bartolome, Miguel\")\nidAuthors\n\n#' Buscar en nombres personas\n\nidAuthors <- get.idAuthors(db, grepl('Miguel A.', AF))\nstr(idAuthors)\nidAuthors[1:10]\n\n#' get.idAreas\n#' Devuelve códigos de las áreas\n#' Multiple conditions are combined with & (see \\code{\\link[dplyr]{filter}})\n#' Se puede emplear cualquier variable de la correspondiente tabla...\nget.idAreas(db,SC=='Mathematics')\nget.idAreas(db,SC=='Mathematics'| SC=='Dermatology')\n\n#'  get.idCategories\nget.idCategories(db, grepl('Mathematics', WC))\n\n#'  get.idJournals\nget.idJournals(db,SO=='JOURNAL OF THE AMERICAN CHEMICAL SOCIETY')\nget.idJournals(db,J9=='J AM CHEM SOC')\n\n\n#' ### Obtener documentos de autores\n#' Los indices anteriores se pueden combinar en `get.idDocs`\n\nidocs <- get.idDocs(db, idAuthors = idAuthors)\nidocs\n#' Los índices de documentos se pueden utilizar como filtro p.e. en `summary`.\n#'\n#' ### Sumarios filtrados\n#' Obtener sumario de autores:\nsummary(db, idocs)\n\n#' Obtener sumario de autores por años:\nsummary_year(db, idocs)\n\n#' ## Indices autores\n#' Obtener índices de múltiples autores\nTC.authors(db, idAuthors)\n\n\n",
    "created" : 1513699427611.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "863633024",
    "id" : "B6177FA9",
    "lastKnownWriteTime" : 1513763238,
    "last_content_update" : 1513763238593,
    "path" : "C:/Users/Borja/Dropbox/_Rankings/rwos_package/demo/rwos_package9.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}